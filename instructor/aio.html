<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Regular Expressions for Biologists: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="../favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-warning">
          <abbr title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Regular Expressions for Biologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Regular Expressions for Biologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="resources.html">Recommended Reading &amp; Resources</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Regular Expressions for Biologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-fundamentals.html">2. Regex Fundamentals</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-tokens-and-wildcards.html">3. Tokens and Wildcards</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-repeats.html">4. Repeated Matches</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-capture-groups.html">5. Capture Groups and References</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-alternative-matching.html">6. Alternative Matches</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="resources.html">Recommended Reading &amp; Resources</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introduction"><p>Content from <a href="01-introduction.html">Introduction</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/01-introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is a regular expression?</li>
<li>In what programs can I use regular expessions?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain that regular expressions are a way of describing patterns in
text.</li>
<li>Describe circumstances where a regular expression search could be
helpful.</li>
<li>Access the regular expression search function of a text editor.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-a-regular-expression">What is a regular expression?<a class="anchor" aria-label="anchor" href="#what-is-a-regular-expression"></a>
</h2>
<hr class="half-width">
<p>A regular expression (regex) is a string of characters defining a
pattern to be found in a block of text. A regex can be constructed to
allow multiple possible matches, while restricting other possibilities,.
This makes them considerably more powerful and precise than the simple
‘CTRL+F’ or ‘Find/Replace’ operations that you might be familiar with
from word processing/web browser software. It is also possible to use
regular expressions to specify parts of the search pattern that will be
kept in the replacement string of a substitution operation.</p>
<div class="section level3">
<h3 id="illustrative-example">Illustrative Example<a class="anchor" aria-label="anchor" href="#illustrative-example"></a>
</h3>
<p>Imagine that you have a long text document. The document contains a
lot of numbers - years (2014, 2016, 1998, etc), digits (9, 4, 58, etc),
and a single phone number (i.e. twelve digits). You need to find the
phone number, but it is buried in this large body of text, amongst many
other numbers. You cannot remember much about the phone number (like
what digit(s) it starts with), you can’t just randomly search strings of
digits with <code>CTRL+F</code>/<code>Find/Replace</code>, because there
are far too many possible combinations (one <em>trillion</em>
twelve-digit numbers!), and simply performing ten individual searches
for the digits from <code>0</code> to <code>9</code> returns many
unwanted results.</p>
<p>You <em>could</em> run one of these searches for an individual digit,
then manually click through each result, until you eventually find the
phone number. Or you could simply scroll through the document, looking
for something that resembles a phone number. But that is likely to take
a <em>long</em> time, is really boring, and it would be easy to miss the
number while hastily scanning through so many pages.</p>
<p>With regular expressions, you can define a pattern to find any
combination of twelve digits in succession, which you can use to find
the phone number - and nothing else - wherever it is in the
document.</p>
</div>
</section><section><h2 class="section-heading" id="regular-expression-engines">Regular Expression Engines<a class="anchor" aria-label="anchor" href="#regular-expression-engines"></a>
</h2>
<hr class="half-width">
<p>In order to perform a regex search, you need to provide the
expression to a program that can interpret it. Such tools are known as
regular expression engines. Unfortunately, there are multiple different
‘flavours’ of regex engines, which each work slightly differently.
However, the core rules, which are covered in this lesson and will
probably address 99.9% of your text-searching needs, are effectively
common to all of them.</p>
</section><section><h2 class="section-heading" id="how-can-i-use-regular-expressions">How can I use Regular Expressions?<a class="anchor" aria-label="anchor" href="#how-can-i-use-regular-expressions"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="text-editors">Text Editors<a class="anchor" aria-label="anchor" href="#text-editors"></a>
</h3>
<p>Most text editors include a regular expression engine to provide
regex search/replace functionality. See <a href="index.html#setup">the Setup
page</a> for suggested text editors to use on different operating
systems when following this lesson.</p>
<p>Usually, you will need to specify that you want to use regular
expression searching instead of the normal plain text searching that you
may already be familiar with. When you open up the
<code>Find/Replace</code> interface in your editor, you should look for
an option with a label like “mode”, “grep-like”, “regular expression” or
“regex”, and use this to control the type of searching that you want to
do.</p>
</div>
<div class="section level3">
<h3 id="command-line">Command Line<a class="anchor" aria-label="anchor" href="#command-line"></a>
</h3>
<p>In addition, several Unix command line tools are commonly available
that use regular expressions, for searching
(e.g. <code>grep</code>/<code>egrep</code>) and replacement/substitution
(e.g. <code>sed</code>, <code>awk</code>, <code>perl -e</code>).</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Regular expressions are a way of describing patterns in text.</li>
<li>Most text editors and many other tools include a regular expression
engine for performing these kinds of searches.</li>
<li>Regular expressions are often offered as a mode of find/replace that
can be turned on and off by the user.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-02-fundamentals"><p>Content from <a href="02-fundamentals.html">Regex Fundamentals</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/02-fundamentals.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I search for sets of characters in a text file?</li>
<li>How can I specify ranges of characters in a search?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Compose regular expressions to match patterns in text.</li>
<li>Specify sets and ranges of characters to include in a search.</li>
<li>Use inverted matches to exclude particular characters from a
search.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="basic-string-matching">Basic String Matching<a class="anchor" aria-label="anchor" href="#basic-string-matching"></a>
</h2>
<hr class="half-width">
<p>In regular expression mode, you can still search for a literal string
i.e. the exact letter(s)/word(s) that you want to find. So, to find the
gene name ‘HDAC1’, you would type:</p>
<pre class="source"><code><span><span class="va">HDAC1</span></span></code></pre>
<p>Using your text editor, open the example file
<code>example.gff</code> and try using the Find/Replace interface to
search for this term. Remember to make sure that you have your searches
switched to regex mode.</p>
<p>Gene names are one example of where the letters in your target string
might be in upper or lower case (or a mix of the two) - DNA and RNA
sequences are another. You should consider this when doing your search:
most search functions/programs provide an option to switch case
sensitivity on and off. For example, when using <code>grep</code> on the
command line, the <code>-i</code> option activates case
insensitivity.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-i</span> HDAC1 example.gff</span></code></pre>
</div>
<div id="finding-hdacs" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="finding-hdacs" class="callout-inner">
<h3 class="callout-title">Finding HDACs</h3>
<div class="callout-content">
<p>Find every instance of a histone deacetylase (HDAC) in the file,
based on the gene name. Are there any potential problems with your
search? Think about how you might make your search as specific as
possible, to avoid spurious matches.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>To make the search less specific, remove the ‘1’ from the end</p>
<pre class="source"><code><span><span class="va">HDAC</span></span></code></pre>
<p>Or, to be more specific and avoid any spurious matches:</p>
<pre class="source"><code><span><span class="va">Name</span><span class="op">=</span><span class="va">HDAC</span></span></code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="sets-and-ranges">Sets and Ranges<a class="anchor" aria-label="anchor" href="#sets-and-ranges"></a>
</h2>
<hr class="half-width">
<p>What if we want to find only ‘HDAC1’ and ‘HDAC2’ but no other
patterns beginning with this gene name? You could do this in two
separate searches, but getting everything you need in a single search
might be better for a number of reasons: it is faster; it will preserve
the order of the results, e.g. if you are extracting them to a separate
file; if you learn how to do it for two strings, you can apply the same
approach to ten, 100, etc; and it is more satisfying!</p>
<p>In a regular expression, we can specify groups of characters to be
matched in a certain position by placing them between sqaure brackets
<code>[]</code>. For example,</p>
<pre class="source"><code>[bfr]oot</code></pre>
<p>will match ‘boot’, ‘foot’, and ‘root’, but not ‘loot’, or ‘moot’.
Only a single character inside the square brackets <code>[]</code> will
be matched, so the pattern above will not match the whole of ‘froot’ or
‘broot’ either. As a substring of these, ‘root’ will be matched in both
cases, which may not be what we want. We will learn more soon about how
to avoid these partial matches.</p>
<p>This approach can be used to match only <code>HDAC1</code> and
<code>HDAC2</code> in our example GFF file, with the regex below:</p>
<pre class="source"><code><span><span class="va">HDAC</span><span class="op">[</span><span class="fl">12</span><span class="op">]</span></span></code></pre>
<p>The set of characters specified inside <code>[]</code> can be a mix
of letters, numbers, and symbols. So,</p>
<pre class="source"><code>[&amp;k8Y]</code></pre>
<p>is a valid set.</p>
<p>What if we want to match any uppercase letter? Applying what we’ve
learned already, we <em>could</em> use the set</p>
<pre class="source"><code>[ABCDEFGHIJKLMNOPQRSTUVWXYZ]at</code></pre>
<p>to match any string beginning with an upper case letter, followed by
‘at’ e.g. ‘Cat’, ‘Bat’, ‘Mat’, etc. But that’s a lot of typing (30
characters to match only three in the string), and we can instead
specify ranges of characters in <code>[]</code> with <code>-</code>. So,
to match the same strings as before, our regex can instead look like
this:</p>
<pre class="source"><code>[A-Z]at</code></pre>
<p>Only seven characters now - that’s much better! All lower case
letters can be matched with the set <code>[a-z]</code>, and digits with
<code>[0-9]</code>.</p>
<div id="character-sets" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="character-sets" class="callout-inner">
<h3 class="callout-title">Character Sets</h3>
<div class="callout-content">
<p>Here, we will discuss only characters that fall inside the ASCII set
- a limited set of roman alphabet letters, numbers, and symbols, which
includes almost everything commonly used in English, but not accented
characters (ü, é, ø, etc) or many specialised symbols (e.g. €, ¿, ±).
Many regular expression engines provide a ‘Unicode mode’, often switched
on with the ‘u’ flag, which will allow you to specify and match the full
range of Unicode characters. This includes most alphabets, symbols, and
even emojis._</p>
</div>
</div>
</div>
<div id="exercise-2.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2.2" class="callout-inner">
<h3 class="callout-title">Exercise 2.2</h3>
<div class="callout-content">
<ol style="list-style-type: lower-alpha">
<li>In total, how many lines mention HDAC 1-5 in
<code>example.gff</code>?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>82 (using the regex <code>Name=HDAC[1-5][^0-9]</code>)</p>
</div>
</div>
</div>
</div>
<div id="exercise-2.2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-2.2" class="callout-inner">
<h3 class="callout-title">Exercise 2.2<em> (continued)</em>
</h3>
<div class="callout-content">
<ol start="2" style="list-style-type: lower-alpha">
<li>Which of the following expressions could you use to match any
four-letter word beginning with an uppercase letter, followed by two
vowels, and ending with ‘d’?</li>
</ol>
<pre class="source"><code>	i) [upper][vowel][vowel]d

	ii) [A-Z][a-u][a-u]d

	iii) [A-Z][aeiou][aeiou]d

	iv) [A-Z][aeiou]*2;d</code></pre>
<blockquote>
<h2 id="solution-2">Solution</h2>
<p>Option iii) fits the description. You might also have chosen option
ii), which would match the described pattern, but also other non-vowel
letters in the middle two positions.</p>
</blockquote>
<ol start="3" style="list-style-type: lower-alpha">
<li>Try playing around with the character ranges that you have learned
above. What does <code>[A-z]</code> evaluate to? What about
<code>[a-Z]</code>? Can you create a range that covers all letter and
number characters?</li>
</ol>
<blockquote>
<h2 id="solution-3">Solution</h2>
<p><code>[A-z]</code> matches all letter characters (both upper and
lower case). <code>[a-Z]</code> is an invalid set. <code>[A-9]</code>
will match any letter or digit character.</p>
</blockquote>
</div>
</div>
</div>
<p>Ranges don’t have to include the whole alphabet or every digit - we
can match only the second half of the alphabet with</p>
<pre class="source"><code>[N-Z]</code></pre>
<p>and only the numbers from 5 to 8 with</p>
<pre class="source"><code>[5-8]</code></pre>
<p>We can specify multiple ranges together in the same set, so matching
‘a’, ‘b’, ‘c’, ‘d’, ‘e’, ‘f’, or any digit can be done with</p>
<pre class="source"><code>[a-f0-9]</code></pre>
<p>But if we’re using the <code>-</code> symbol to specify a range of
characters, how do we include the literal ‘-’ symbol in a set to be
matched? To do this, the <code>-</code> should be specified at the start
of the set. So</p>
<pre class="source"><code>[-A-K]</code></pre>
<p>will match ‘-’ as well as any uppercase letter between ‘A’ and
‘K’.</p>
</section><section><h2 class="section-heading" id="inverted-sets">Inverted sets<a class="anchor" aria-label="anchor" href="#inverted-sets"></a>
</h2>
<hr class="half-width">
<p>The last thing to tell you about sets and ranges (for now), is that
we can also specify a set or range of characters to <em>not</em> match
in a position. This is achieved with the <code>^</code> symbol at the
beginning of the set.</p>
<pre class="source"><code>201[^269]</code></pre>
<p>will match ‘2010’, ‘201K’, ‘201j’, etc, but not ‘2012’, ‘2016’, or
‘2019’. In contrast to <code>-</code>, which is only taken literally
when at the start of the set, <code>^</code> only takes a special
meaning at the start of a set - it is treated literally if it appears
anywhere else in the set. If you want to invert a set that should
include the <code>-</code> symbol, start the set with <code>^-</code>
followed by whatever other characters you don’t want to match.</p>
<div id="exercise-2.3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2.3" class="callout-inner">
<h3 class="callout-title">Exercise 2.3</h3>
<div class="callout-content">
<p>Use an inverted set to only match the human autosomes (chr1-22),
i.e. filtering out chromosomes chrX, chrY and chrM. How many records
with autosomes can you find in file <code>example.gff</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<pre class="source"><code>chr[^XYM]</code></pre>
<p>There are 897 records matching this regular expression. In fact,
there are only 895 lines beginning with <code>chr[^XYZ]</code>, but two
other lines also match the regex above because they contain the string
‘chromosome’. To avoid matching these, anchor the regex to the beginning
of the line with <code>^</code> i.e. <code>^chr[^MXY]</code> (see
chapter 3).</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Wrap characters in <code>[]</code> to define a set of valid matches
for a given position.</li>
<li>Use <code>-</code> between two characters to define a range of
characters to match.</li>
<li>
<code>^</code> at the start of a set to invert it, indicating that
the given characters should be excluded from a match.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-03-tokens-and-wildcards"><p>Content from <a href="03-tokens-and-wildcards.html">Tokens and Wildcards</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/03-tokens-and-wildcards.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<section><h2 class="section-heading" id="referencing-multiple-characters">Referencing multiple characters<a class="anchor" aria-label="anchor" href="#referencing-multiple-characters"></a>
</h2>
<hr class="half-width">
<p>In the introductory example we introduced the <code>\d</code> token,
used to represent any single digit. In this regard, the two regular
expressions below are equivalent.</p>
<pre><code>[0-9]
\d</code></pre>
<p>{: .source }</p>
<div class="section level3">
<h3 id="tokens-and-the-backslash">Tokens and the Backslash<a class="anchor" aria-label="anchor" href="#tokens-and-the-backslash"></a>
</h3>
<p>Tokens in general are shorter form ways of describing standard,
commonly-used character sets/classes. The table below describes the
tokens available for use in regex.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="7%">
<col width="72%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th>Token</th>
<th>Matches</th>
<th>Set Equivalent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>\d</code></td>
<td>Any digit</td>
<td><code>[0-9]</code></td>
</tr>
<tr class="even">
<td><code>\s</code></td>
<td>Any whitespace character (space, tab, newlines)</td>
<td><code>[ \t\n\r\f]</code></td>
</tr>
<tr class="odd">
<td><code>\w</code></td>
<td>Any ‘word character’ - letters, numbers, and underscore</td>
<td><code>[A-Za-z0-9_]</code></td>
</tr>
<tr class="even">
<td><code>\b</code></td>
<td>A word boundary character</td>
<td>no equivalent</td>
</tr>
<tr class="odd">
<td><code>\D</code></td>
<td>The inverse of <code>\d</code> i.e. any character except a
digit</td>
<td><code>[^0-9]</code></td>
</tr>
<tr class="even">
<td><code>\S</code></td>
<td>Any non-whitespace character</td>
<td><code>[^ \t\n\r\f]</code></td>
</tr>
<tr class="odd">
<td><code>\W</code></td>
<td>Any non-word character</td>
<td><code>[^A-Za-z0-9_]</code></td>
</tr>
</tbody>
</table>
<p>Notice that these tokens have a common syntax - a backslash character
‘' followed by a letter establishing the set (lowercase) or inverse of a
set (uppercase) being represented. The backslash is important in regular
expressions, and in programming/command line computing in general. It is
often used as an ’escape character’ - it signifies to a
program/interpreter that the character that follows the backslash should
be treated in some special way. In regex, the backslash has a slightly
confusing role, in that it is used as both an escape character and as a
way of conferring special meaning on characters that would otherwise be
treated literally. So, for tokens the inclusion of a backslash changes
the meaning of the <code>w</code>, <code>s</code>, <code>b</code>, and
<code>d</code> characters from “match exactly the character ‘w’” and so
on, to “match any character in this set/class”. But for other characters
that already have a special meaning (e.g. <code>.</code>,
<code>$</code>, <code>[</code>, etc), the inclusion of a backslash in
the preceding position in a regex tells the engine “treat this character
literally, instead of interpreting it with a special value”. We will
discuss the implications of matching special characters in more detail
in later sections.</p>
<p>This even extends so far as to the backslash character itself - you
can specify that you want to match a literal backslash, by preceding
that backslash character with - you guessed it! - a backslash i.e. with
<code>\\</code>.</p>
<blockquote>
<h2 id="exercise-3.1">Exercise 3.1</h2>
<p>Match dates of the form 31.01.2017 (DAY.MONTH.YEAR) in the example
file <code>person_info.csv</code>. Pay attention to not wrongly match
phone numbers. How many matches do you find?</p>
<blockquote>
<h2 id="solution">Solution</h2>
<pre><code>\d\d\.\d\d\.\d\d\d\d</code></pre>
<p>{: .source }</p>
<p>There are 25 matches in the file <code>person_info.csv</code> (every
even record).</p>
<p>Note that the solution above will also match strings like
131.01.20171 or 99.99.9999. If you really need to avoid matches like
that, you will need to construct a more specific regex, e.g. one based
on the ranges of years you expect to find in your date mateches. {:
.solution } {: .challenge }</p>
</blockquote>
</blockquote>
</div>
</section><section><h2 class="section-heading" id="word-boundaries">Word Boundaries<a class="anchor" aria-label="anchor" href="#word-boundaries"></a>
</h2>
<hr class="half-width">
<p>The <code>\d</code>, <code>\w</code>, and <code>\s</code> tokens each
represent a clearly defined set of characters. The <code>\b</code> token
is more interesting - it is used to match what is referred to as a ‘word
boundary’, and can be used to ensure matching of whole words only. For
example, we want to find every instance of ‘chr1’ and ‘chr2’ in the file
<code>example.gff</code>. Using what we’ve already learned, we can
design the regex</p>
<pre><code><span><span class="va">chr</span><span class="op">[</span><span class="fl">12</span><span class="op">]</span></span></code></pre>
<p>{: .source }</p>
<p>which will match either of the two target strings. However, this
regex will also match all but the last character of ‘chr13’ and ‘chr22’,
which is not what we want. How can we be sure that we will only match
the two chromosome identifiers that we want, without additional digits
on the end? We could add a space character to the end of the regex. But
what if the target string appears at the end of a line? Or before a
symbol/delimiter such as ‘;’ or ‘.’? These strings will be missed by our
regex ending with a space.</p>
<p>This is where the <code>\b</code> token comes in handy. ‘Word
boundary’ characters include all of the options described above -
symbols that might be used as field delimiters, periods and commas,
newline characters, plus the special regex characters <code>^</code> and
<code>$</code>, which refer to the beginning and end of a string
respectively (more on these in a moment). So, by using the regex</p>
<pre><code>\bchr[12]\b</code></pre>
<p>{: .source }</p>
<p>we ensure that we will only get matches to ‘chr1’ and ‘chr2’ as whole
words, regardless of whether they are flanked by spaces, symbols, or the
beginning or end of a line.</p>
<blockquote>
<h2 id="exercise-3.2">Exercise 3.2</h2>
<p>How can you refine the regex from the previous exercise to prevent
matching strings with preceding or succeeding digits, such as
131.01.20171? &gt; &gt; ## Solution &gt; &gt; ~~~ &gt; ~~~ &gt; {:
.source } &gt; &gt; Note that this prevents matching strings like
131.01.20171, but still allows non-sensical dates such as 99.99.9999. {:
.solution } {: .challenge }</p>
</blockquote>
<blockquote>
<h2 id="exercise-3.3">Exercise 3.3</h2>
<p>When designing a regular expression to match exactly four digits,
what would be the difference between using the two regular expressions
<code>\b\d\d\d\d\b</code> and <code>\D\d\d\d\d\D</code>?</p>
<blockquote>
<h2 id="solution-1">Solution</h2>
<p>While both regular expressions will prevent leading and succeeding
digits, the regular expression <code>\D\d\d\d\d\D</code> won’t work if
the four digits appear at the beginning or end of the string. That is
because the <code>\D</code> tokens MUST match a character. {: .solution
} {: .challenge }</p>
</blockquote>
</blockquote>
</section><section><h2 class="section-heading" id="the---wildcard">The <code>.</code> Wildcard<a class="anchor" aria-label="anchor" href="#the---wildcard"></a>
</h2>
<hr class="half-width">
<p>As well as the set tokens described above, there is also the more
general wildcard <code>.</code>, which can be used to match any single
character. Although it can be very helpful at times, it is recommended
to use a more specific token/set wherever possible so as to avoid
spurious matches - we will discuss more about this in the next section.
Remember, to match a literal <code>.</code> character, escape it with a
backslash i.e. <code>\.</code>.</p>
</section><section><h2 class="section-heading" id="start-and-end">
<code>^</code>Start and End<code>$</code>
<a class="anchor" aria-label="anchor" href="#start-and-end"></a>
</h2>
<hr class="half-width">
<p>The <code>^</code> and <code>$</code> symbols are used in a regex to
represent the beginning and end of the searched line - they are refered
to as ‘anchor’ characters. This can be extremely helpful when searching
for lines that begin with a particular string/pattern, but where that
pattern might also be found elsewhere in the lines.</p>
<p>In the example SAM file, ‘example.sam’, there are several header
lines before the main body of individual alignments. These header lines
begin with the ‘@’ symbol, which is also contained within the quality
strings and other fields of the alignment lines that make up the bulk of
the file. If we search only with <code>@</code>, we won’t be able to
pull out only the header lines, so instead we can use the regex</p>
<pre><code>^@</code></pre>
<p>{: .source }</p>
<p>to capture only the header lines. A similar approach can also be
useful when searching for particular primer/adapter sequences in
high-throughput DNA sequencing data.</p>
<blockquote>
<h2 id="exercise-3.4">Exercise 3.4</h2>
<p>Count how many sequences in <code>example_protein.fasta</code> are of
transcript_biotype “protein_coding”. Hint: sequence records have a
header that starts with the character “<code>&gt;</code>”.</p>
<blockquote>
<h2 id="solution-2">Solution</h2>
<pre><code>^&gt;.*transcript_biotype:protein_coding</code></pre>
<p>{: .source }</p>
<p>There are 17 matches in the file <code>example_protein.fasta</code>.
<em>Note: be careful when using <code>&gt;</code> in a regular
expression on the command line - the <code>&gt;</code> symbol has a
special meaning in many command line environments, and using it can
result in accidentally wiping the content of files etc.</em> {:
.solution } {: .challenge }</p>
</blockquote>
</blockquote>
</section></section><section id="aio-04-repeats"><p>Content from <a href="04-repeats.html">Repeated Matches</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/04-repeats.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I define a character or set that appears multiple times in a
pattern?</li>
<li>How can I define the maximum and minimum number of times a character
or set should appear in the pattern?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Choose the appropriate modifier to optionally or repeatedly match a
given character or set.</li>
<li>Compose a regular expression that will match a character appearing
between two and five times in succession.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Now that we’ve learned how to account for uncertainty of the
characters that should be matched by a regex, it’s time to focus on how
to account for uncertainty in the <em>length</em> of the patterns that
we would like to match.</p>
<p>For example, imagine that we are working with a large list of files,
a collection of several different file formats. We have FASTA files
(extension <code>.fasta</code>), BAM files (<code>.bam</code>), text
files (<code>.txt</code>), and BED files (<code>.bed</code>). What if we
want to match the complete filename of all of the text files? There are
files called ‘table1.txt’, ‘table20.txt’, ‘samples.txt’,
‘Homo_sapiens.txt’, and so on, i.e. the filenames vary in length and
lack a standard structure/format. So we can’t construct a working regex
to capture all of these ‘.txt’ files, using only the character sets and
ranges that we’ve learned up to now.</p>
<section><h2 class="section-heading" id="repeat-modifiers">Repeat Modifiers<a class="anchor" aria-label="anchor" href="#repeat-modifiers"></a>
</h2>
<hr class="half-width">
<p>The symbols <code>+</code>, <code>?</code>, and <code>*</code> can be
used to control the number of times that a character or set should be
matched in the pattern. The behaviour of each is summarised in the table
below.</p>
<table class="table">
<colgroup>
<col width="7%">
<col width="56%">
<col width="8%">
<col width="10%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th>Symbol</th>
<th>Behaviour</th>
<th>Example</th>
<th>Matches</th>
<th>Doesn’t Match</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>+</code></td>
<td>Match one or more of preceding character/set</td>
<td><code>AGC+T</code></td>
<td>AGCCCT</td>
<td>AGT</td>
</tr>
<tr class="even">
<td><code>?</code></td>
<td>Match zero or one of preceding character/set</td>
<td><code>AGC?T</code></td>
<td>AGT</td>
<td>AGCCT</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>Match zero or more of preceding character/set</td>
<td><code>AGC*T</code></td>
<td>AGCCCCCT</td>
<td>AGG</td>
</tr>
</tbody>
</table>
<p>So, <code>bo?t</code> will match ‘bt’ and ‘bot’ only,
<code>bo+t</code> will match ‘boot’, ‘bot’, ‘boooot’, and so on, and
`bo*t’ will match ‘bt’, ‘bot’, ‘boot’, ‘booot’, and so on. These
modifiers can also be applied to sets of characters, so the regex</p>
<pre class="source"><code><span><span class="va">f</span><span class="op">[</span><span class="va">aeiou</span><span class="op">]</span><span class="op">+</span><span class="va">nd</span></span></code></pre>
<p>will match ‘find’, ‘found’, and ‘fiuoaaend’. Note that the whole
class can be repeated, and it is not only repeats of the same character
that match i.e. the regex</p>
<pre class="source"><code><span><span class="va">d</span><span class="op">[</span><span class="va">efor</span><span class="op">]</span><span class="op">*</span><span class="va">med</span></span></code></pre>
<p>will match ‘deformed’, as well as ‘dmed’, ‘doomed’, and
‘doooooooooooomed’. It is also important to be aware that the modifiers
are ‘greedy’, which means that the regex engine will match as many
characters as possible before moving on to the next character of the
pattern.</p>
<div id="exercise-4.1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-4.1" class="callout-inner">
<h3 class="callout-title">Exercise 4.1</h3>
<div class="callout-content">
<ol style="list-style-type: lower-alpha">
<li>Which of the follow strings will be matched by the regular
expression <code>MVIA*CP</code>?</li>
</ol>
<p>`~~~ i) MVIAACP</p>
<ol start="2" style="list-style-type: lower-roman">
<li><p>MVICP</p></li>
<li><p>MVIACP</p></li>
<li><p>all of the above</p></li>
</ol>
<pre><code>{: .source }

&gt; ## Solution
&gt;
&gt; __iv)__ the regex will match all of the strings i) - iii)
&gt;
{: .solution }

b) Write a regular expression to match the string

"ATGCTTTCG"

and

"ATCTCG"

but *not*

"ATGGCCG"

&gt; ## Solution
&gt;
&gt; ~~~
&gt; ATG?CT+CG
&gt; ~~~
&gt; {: .source }
&gt; {: .solution }</code></pre>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="specifying-repeats">Specifying Repeats<a class="anchor" aria-label="anchor" href="#specifying-repeats"></a>
</h2>
<hr class="half-width">
<p>In addition to the modifiers above, which allow the user to specify
whether to match, zero, one, or an arbitrary multitude of a
character/set, it is also possible to match only a certain number of
repeats, or within a certain range of numbers of repeats, using
<code>{}</code>.</p>
<pre class="source"><code>GCA{3}T</code></pre>
<p>matches ‘GCAAAT’ only, while</p>
<pre class="source"><code>GC[AT]{3}T</code></pre>
<p>matches ‘GCATAT’, ‘GCTTTT’, and ‘GCTAAT’, but not ‘GCTAT’, ‘GCATT’,
or ‘GCp)T’. As well as an exact number of repeats to match, a range can
also be specified with <code>{n,m}</code>, where <code>n</code> is the
minimum and <code>m</code> the maximum number of matches allowed in the
pattern. So,</p>
<pre class="source"><code>AG[ACGT]{4,10}GC</code></pre>
<p>matches any sequence between four and ten nucleotides, flanked by
‘AG’ on one side and ‘GC’ on the other.</p>
</section><section><h2 class="section-heading" id="grouping">Grouping<a class="anchor" aria-label="anchor" href="#grouping"></a>
</h2>
<hr class="half-width">
<p>In some circumstances, you will need to specify exactly what it is
that you would like to repeat within a regex. The <code>+</code>,
<code>?</code>, and <code>*</code> modifiers above apply by default only
to the character/set that immediately precedes them in the regex. But
what if you would like to match multi-character repeats? Or make a
substring in the pattern optional? To apply a modifier to a whole group
of characters/sets, wrap the group in <code>()</code> parentheses.</p>
<p>For example, in the string ‘rain wind rainrain sunshine’, we can
match ‘rain’ and ‘rainrain’ with the regex <code>(rain)+</code>. This
kind of grouping with <code>()</code> is used in a few different ways,
as we will discover in the next couple of chapters.</p>
<div id="exercise-4.2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-4.2" class="callout-inner">
<h3 class="callout-title">Exercise 4.2</h3>
<div class="callout-content">
<p>use <code>{}</code> to search <code>example_protein.fasta</code> for
trytophan (W) followed by tyrosine (Y), with an increasing number of
leucine (L) residues in between. Start by searching for this pattern
with three leucines (i.e. ‘WLLLY’), then reduce this to two, and one. Is
this working as you expect? How would you search for a range of lengths
of the leucine repeat? Try searching for any patterns with at between
one and four leucines. What happens if you leave out the upper limit
inside the <code>{}</code>? Or the lower limit? Can you leave out
both?</p>
<div class="section level2 soultion">
<h2 id="solution">Solution<a class="anchor" aria-label="anchor" href="#solution"></a>
</h2>
<pre class="source"><code>WL{3}Y
WL{2}Y
WL{1}Y
WL{1,4}Y</code></pre>
</div>
</div>
</div>
</div>
<p>Specifying only one of these limits, while retaining the comma in the
appropriate position, allows you to control for a only an upper or lower
limit to the number of repeats. So,</p>
<pre class="source"><code>GC[A]{3,}GC</code></pre>
<p>matches ‘GCAAAGC’, ‘GCAAAAAAAAGC’, and any other string starting and
ending with ‘GC’, with more than two ’A’s in between. Conversely,</p>
<pre class="source"><code>GCA{,4}GC</code></pre>
<p>matches ‘GCGC’, ‘GCAGC’, ‘GCAAGC’, and so on, but won’t match
‘GCAAAAAAGC’ or any other combination containing a run of more than four
‘A’s between flanking ’GC’ substrings. This syntax, where the minimum
number of matches is left blank, is only valid in a limited number of
programs/environments.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>?</code> indicates that the preceding character or set should
be treated as optional in this position.</li>
<li>
<code>*</code> indicates that the preceding character or set should
appear 0 or more times in this position.</li>
<li>
<code>+</code> indicates that the preceding character or set should
appear 1 or more times in this position.</li>
<li>
<code>{2,4}</code> indicates that the preceding character or set
should appear at least twice but no more than four times in this
position.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-capture-groups"><p>Content from <a href="05-capture-groups.html">Capture Groups and References</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/05-capture-groups.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<p>One of the most common uses of regular expressions is in string
replacement, or substitution, where the patterns found will be replaced
by some other string - this usage is similar again to the ‘Find and
Replace’ functionality of word processors that we mentioned in the
introduction. Beyond the potential for “fuzzy” finding, a major
advantage that regular expressions provide in this context is that they
allow all or part(s) of the matched string to be re-used in the
replacement. This means matched patterns can be rearranged, added to,
and given new context, without the need for prior knowledge of the
specific pattern that will be found.</p>
<p>To understand the difference between this and the functionality of a
standard, literal ‘Find/Replace’ tool, consider the following example:
you have been given a FASTA file of protein sequences in the following
format</p>
<pre><code>&gt;GX3597KLM "Homo sapiens"
MQSYASAMLSVFNSDDYSPAVQENIPALRRSSSFLCTESCNSKYQCETGENSKGNVQDRVKRPMNAFIVW
SRDQRRKMALENPRMRNSEISKQLGYQWKMLTEAEKWPFFQEAQKLQAMHREKYPNYKYRPRRKAKMLPK
NCSLLPADPASVLCSEVQLDNRLYRDDCTKATHSRMEHQLGHLPPINAASSPQQRDRYSHWTKL

&gt;GK9113FGH "Homo sapiens"
MRPEGSLTYRVPERLRQGFCGVGRAAQALVCASAKEGTAFRMEAVQEGAAGVESEQAALGEEAVLLLDDI
MAEVEVVAEEEGLVERREEAQRAQQAVPGPGPMTPESAPEELLAVQVELEPVNAQARKAFSRQREKMERR
RKPHLDRRGAVIQSVPGFWANVIANHPQMSALITDEDEDMLSYMVSLEVGEEKHPVHLCKIMLFFRSNPY
FQNKVITKEYLVNITEYRASHSTPIEWYPDYEVEAYRRRHHNSSLNFFNWFSDHNFAGSNKIAEILCKDL
WRNPLQYYKRMKPPEEGTETSGDSQLLS

&gt;GF7745PUP "Mus musculus"
MGRLVLLWGAAVFLLGGWMALGQGGAAEGVQIQIIYFNLETVQVTWNASKYSRTNLTFHYRFNGDEAYDQ
CTNYLLQEGHTSGCLLDAEQRDDILYFSIRNGTHPVFTASRWMVYYLKPSSPKHVRFSWHQDAVTVTCSD
LSYGDLLYEVQYRSPFDTEWQSKQENTCNVTIEGLDAEKCYSFWVRVKAMEDVYGPDTYPSDWSEVTCWQ
RGEIRDACAETPTPPKPKLSKFILISSLAILLMVSLLLLSLWKLWRVKKFLIPSVPDPKSIFPGLFEIHQ
GNFQEWITDTQNVAHLHKMAGAEQESGPEEPLVVQLAKTEAESPRMLDPQTEEKEASGGSLQLPHQPLQG
GDVVTIGGFTFVMNDRSYVAL

&gt;GD8332BAG "Homo sapiens"
MEELTAFVSKSFDQKSKDGNGGGGGGGGKKDSITYREVLESGLARSRELGTSDSSLQDITEGGGHCPVHL
FKDHVDNDKEKLKEFGTARVAEGIYECKEKREDVKSEDEDGQTKLKQRRSRTNFTLEQLNELERLFDETH
YPDAFMREELSQRLGLSEARVQVWFQNRRAKCRKQENQMHKGVILGTANHLDACRVAPYVNMGALRMPFQ
QVQAQLQLEGVAHAHPHLHPHLAAHAPYLMFPPPPFGLPIASLAESASAAAVVAAAAKSNSKNSSIADLR
LKARKHAEALGL

&gt;GK3091TFB "Mus musculus"
MAILFAVVARGTTILAKHAWCGGNFLEVTEQILAKIPSENNKLTYSHGNYLFHYICQDRIVYLCITDDDF
ERSRAFNFLNEIKKRFQTTYGSRAQTALPYAMNSEFSSVLAAQLKHHSENKGLDKVMETQAQVDELKGIM
VRNIDLVAQRGERLELLIDKTENLVDSSVTFKTTSRNLARAMCMKNLKLTIIIIIVSIVFIYIIVSPLCG
GFTWPSCVKK

&gt;GK3141YRK "Pan troglodytes"
[ many more records follow... ]
</code></pre>
<p>{: .source }</p>
<p>In the sequence header lines (the lines starting with ‘&gt;’), you
have what looks like a unique identifier as the sequence ID string, and
some additional information about species in the description. These are
helpful for find/replace, as they allow us to search the large file for
sequences with a particular identifier or that relate to a particular
species. But there are two potential problems: first, the species string
is wrapped in quotes, which can cause problems in downstream analysis;
and there are spaces in the sequence ID line, which can often result in
the information after the first space being lost when the data is
processed by a lot of software. To avoid these issues, what we’d really
like to have is the species name - without quotes - attached to the ID
string with underscores. This should make sure that all relevant
information will be retained in any further processing steps.</p>
<p>We can match the species name in each header line, with the following
regex:</p>
<pre><code>[A-Z][a-z]+ [a-z]+</code></pre>
<p>{: .source }</p>
<p>which is a good start. But, now we need to consider how to make sure
that we keep these species names during the replacement. In a standard
“Find/Replace” operation, as well as specifying exactly the text that we
want to find (as discussed before), we also specify exactly the text
that we will replace it with. So, to we can find <em>“Pan
troglodytes”</em> and replace it with <em>Pan_troglodytes</em>, but if
our file contains 100 different species names, we would need to manually
perform 100 of these operations.</p>
<p>Using regular expressions, we can identify and store parts of a
matched pattern for reuse in the replacement string. This means that we
can find and replace all of those species names in a single operation,
while maintaining the specific strings that we still need. To do this,
we need to use <em>capture groups</em>.</p>
<p>As we saw in the previous chapter, a group is established in a
regular expression with <code>()</code> parentheses. When matched, these
groups can be referred to in the replacement string with
<code>\N</code>, where <code>N</code> is an integer (1-9) signifying
which group in the regex should be substituted in at the specified
position. Captured groups are counted from left to right. This should be
made clearer with an example below:</p>
<pre><code>group_1, group_2, group_3</code></pre>
<p>{: .source }</p>
<p>In this case, we want to rearrange the parts of the string above, so
that we have ‘group 3’ first, followed by ‘group_1’ twice, and then
‘group_2’. Using what we’ve already learned, we can match each ‘group_x’
substring with the one of the regexes below</p>
<pre><code>group_\d

# or

group_[123]

# or

group_[0-9]</code></pre>
<p>{: .source }</p>
<p>so we could match the whole string as follows:</p>
<pre><code>group_\d, group_\d, group_\d</code></pre>
<p>{: .source }</p>
<p>However, in order to rearrange the parts in a replacement string, we
need to capture them individually with <code>()</code> parentheses.
Using the following regex:</p>
<pre><code>(group_\d), (group_\d), (group_\d)</code></pre>
<p>{: .source }</p>
<p>we could create a rearranged replacement string with</p>
<pre><code>\3, \1, \1, \2

# returns "group_3, group_1, group_1, group_2"</code></pre>
<p>{: .source }</p>
<p>or, to wrap each group in quotation marks:</p>
<pre><code>"\1", "\2", "\3"

# returns "group_1", "group_2", "group_3"</code></pre>
<p>{: .source }</p>
<blockquote>
<h2 id="a-note-about-capture-group-references">A Note About Capture
Group References</h2>
<p>Here we are using the <code>\1</code>, <code>\2</code> notation for
referencing captured groups, but you will often see <code>$1</code>,
<code>$2</code> etc used instead. This is the case when using regular
expressions in Perl, and in many text editors e.g. Atom. Be wary of the
different tokens and wildcards used for regexes in different
environments - it can easily trip you up. You should always try out a
regex replacement before running it on any large volume of data/text,
and make sure that you have a backup so that you can easily revert any
unintended changes! {: .callout }</p>
</blockquote>
<p>Using this approach, you can capture up to nine different groups and
re-use as many of them as you like in your replacement string. This is
really helpful when reformatting large files e.g. to remove additional
characters, which can otherwise be very fiddly and time-consuming.</p>
<p>Now we can return to our FASTA sequence header example introduced at
the beginning of this section. How can we use capture groups to reach
our aim of attaching the species names to the sequence IDs, removing the
quotation marks along the way? First, we should identify the groups that
we need to capture in the regex matching the species names:</p>
<pre><code>[A-Z][a-z]+ [a-z]+ # matches the species names

([A-Z][a-z]+) ([a-z]+) # captures genus &amp; species separately as \1 and \2</code></pre>
<p>{: .source }</p>
<p>Great, but now we need to add the quotation marks and leading space
to our regex, so that we can remove/replace them when performing the
substitution for each matched line. Adding this punctuation to the
regex, gives us:</p>
<pre><code>\s"([A-Z][a-z]+) ([a-z]+)"</code></pre>
<p>{: .source }</p>
<p>Note, that we don’t need to reuse the punctuation during replacement,
so we haven’t wrapped them in <code>()</code> parentheses. Now we can
define our replacement string to add underscores before and in between
the genus and species names:</p>
<pre><code>_\1_\2</code></pre>
<p>{: .source }</p>
<p>Using this pair of regex and replacement string should convert the
headers from the FASTA snippet above:</p>
<pre><code>&gt;GX3597KLM "Homo sapiens"
&gt;GK9113FGH "Homo sapiens"
&gt;GF7745PUP "Mus musculus"
&gt;GD8332BAG "Homo sapiens"
&gt;GK3091TFB "Mus musculus"
&gt;GK3141YRK "Pan troglodytes"</code></pre>
<p>{: .source }</p>
<p>to the desired format:</p>
<pre><code>&gt;GX3597KLM_Homo_sapiens
&gt;GK9113FGH_Homo_sapiens
&gt;GF7745PUP_Mus_musculus
&gt;GD8332BAG_Homo_sapiens
&gt;GK3091TFB_Mus_musculus
&gt;GK3141YRK_Pan_troglodytes</code></pre>
<p>{: .source }</p>
<blockquote>
<h2 id="exercise-5.1">Exercise 5.1</h2>
<p>The file <code>example_protein_malformed.fasta</code> is missing the
<code>&gt;</code> character at the beginning of the headers. Use a
capture group to add them.</p>
<blockquote>
<h2 id="solution">Solution</h2>
<p>Use the regex <code>^(ENSP\d.+)</code> and substitute with
<code>&gt;\1</code>.</p>
<p>Note that we explicitly match a digit character <code>\d</code>. This
is because E, N, S and P are all character of the amino acid alphabet
and thus <code>ENSP</code> can wrongly match protein sequences. {:
.challenge }</p>
</blockquote>
</blockquote>
<blockquote>
<h2 id="exercise-5.2">Exercise 5.2</h2>
<p>The file <code>file_paths.txt</code> contains file paths of image
files. The files are organised by folders based on vacations, but the
files themselves have cryptic names. You want the files to be prefixed
by the vacation and move them into a shared folder. At the end the list
should look like:</p>
<pre><code>/Users/Jane/shared/vacation-pics/France-2015-IMG-06650.jpg
/Users/Jane/shared/vacation-pics/France-2015-IMG-06651.jpg
...
/Users/Jane/shared/vacation-pics/France-2017-IMG-08449.jpg
...
/Users/Jane/shared/vacation-pics/Greece-2016-IMG-07895.jpg
...</code></pre>
<p>{: .source }</p>
<p>Use a capture group to transform the file paths accordingly.</p>
<blockquote>
<h2 id="solution-1">Solution</h2>
<p>Use the regex <code>Pictures\/(France-2015)\/</code> and substitute
with <code>shared/vacation-pics/\1-</code>. {: .solution } {: .challenge
}</p>
</blockquote>
</blockquote></section><section id="aio-06-alternative-matching"><p>Content from <a href="06-alternative-matching.html">Alternative Matches</a></p>
<hr>
<p>Last updated on 2024-11-15 |

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/episodes/06-alternative-matching.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 0 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I define multiple possible strings that can be matched in a
regular expression?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Compose regular expressions to match several different strings.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>So far, we’ve seen how to perform very specific matching - literal
string matching, using wildcards to match the same thing multiple times,
etc - and how to match every substring that fits a particular pattern -
e.g. all strings of at least six digits, every line starting or ending
with a particular character, etc - but what if we only want to match
under a limited number of set circumstances? For an example,consider
again the FASTA file introduced in the previous chapter, a sample of
which is reproduced below:</p>
<pre class="source"><code>&gt;GX3597KLM "Homo sapiens"
MQSYASAMLSVFNSDDYSPAVQENIPALRRSSSFLCTESCNSKYQCETGENSKGNVQDRVKRPMNAFIVW
SRDQRRKMALENPRMRNSEISKQLGYQWKMLTEAEKWPFFQEAQKLQAMHREKYPNYKYRPRRKAKMLPK
NCSLLPADPASVLCSEVQLDNRLYRDDCTKATHSRMEHQLGHLPPINAASSPQQRDRYSHWTKL

&gt;GK9113FGH "Homo sapiens"
MRPEGSLTYRVPERLRQGFCGVGRAAQALVCASAKEGTAFRMEAVQEGAAGVESEQAALGEEAVLLLDDI
MAEVEVVAEEEGLVERREEAQRAQQAVPGPGPMTPESAPEELLAVQVELEPVNAQARKAFSRQREKMERR
RKPHLDRRGAVIQSVPGFWANVIANHPQMSALITDEDEDMLSYMVSLEVGEEKHPVHLCKIMLFFRSNPY
FQNKVITKEYLVNITEYRASHSTPIEWYPDYEVEAYRRRHHNSSLNFFNWFSDHNFAGSNKIAEILCKDL
WRNPLQYYKRMKPPEEGTETSGDSQLLS

&gt;GF7745PUP "Mus musculus"
MGRLVLLWGAAVFLLGGWMALGQGGAAEGVQIQIIYFNLETVQVTWNASKYSRTNLTFHYRFNGDEAYDQ
CTNYLLQEGHTSGCLLDAEQRDDILYFSIRNGTHPVFTASRWMVYYLKPSSPKHVRFSWHQDAVTVTCSD
LSYGDLLYEVQYRSPFDTEWQSKQENTCNVTIEGLDAEKCYSFWVRVKAMEDVYGPDTYPSDWSEVTCWQ
RGEIRDACAETPTPPKPKLSKFILISSLAILLMVSLLLLSLWKLWRVKKFLIPSVPDPKSIFPGLFEIHQ
GNFQEWITDTQNVAHLHKMAGAEQESGPEEPLVVQLAKTEAESPRMLDPQTEEKEASGGSLQLPHQPLQG
GDVVTIGGFTFVMNDRSYVAL

&gt;GD8332BAG "Homo sapiens"
MEELTAFVSKSFDQKSKDGNGGGGGGGGKKDSITYREVLESGLARSRELGTSDSSLQDITEGGGHCPVHL
FKDHVDNDKEKLKEFGTARVAEGIYECKEKREDVKSEDEDGQTKLKQRRSRTNFTLEQLNELERLFDETH
YPDAFMREELSQRLGLSEARVQVWFQNRRAKCRKQENQMHKGVILGTANHLDACRVAPYVNMGALRMPFQ
QVQAQLQLEGVAHAHPHLHPHLAAHAPYLMFPPPPFGLPIASLAESASAAAVVAAAAKSNSKNSSIADLR
LKARKHAEALGL

&gt;GK3091TFB "Mus musculus"
MAILFAVVARGTTILAKHAWCGGNFLEVTEQILAKIPSENNKLTYSHGNYLFHYICQDRIVYLCITDDDF
ERSRAFNFLNEIKKRFQTTYGSRAQTALPYAMNSEFSSVLAAQLKHHSENKGLDKVMETQAQVDELKGIM
VRNIDLVAQRGERLELLIDKTENLVDSSVTFKTTSRNLARAMCMKNLKLTIIIIIVSIVFIYIIVSPLCG
GFTWPSCVKK

&gt;GK3141YRK "Pan troglodytes"
...
</code></pre>
<p>This FASTA file is <em>huge</em> - containing many tens of thousands
of sequences. We would like to know how many sequences belonging to
either <em>Pan troglodytes</em> <strong>*or*</strong> <em>Homo
sapiens</em> are contained in the file. We could count the two species
separately and add the results together, but what if we wanted the count
for three species? Or ten? In this case, it might be better (and would
almost certainly be faster) to perform a count using a set of optional
matches in a single regular expression.</p>
<p>A set of options for matching in a regex can be defined using the
<code>|</code> pipe symbol. For example, to match either ‘fish’ or
‘whale’, we can construct the following expression:</p>
<pre class="source"><code><span><span class="va">fish</span><span class="op">|</span><span class="va">whale</span></span></code></pre>
<p>So, to match only ‘Homo sapiens’ or ‘Pan troglodytes’ in the FASTA
file mentioned above, we can construct the regex:</p>
<pre class="source"><code>Homo sapiens|Pan troglodytes</code></pre>
<p>which we can then use with <code>grep</code> or some other program to
get a count of the matches. You can use this approach to selectively
extract lines from a larger file, while preserving their order relative
to each other. For example, this can be useful when subsetting a GFF
annotation file based on feature type, source, etc.</p>
<div id="exercise-6.1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-6.1" class="callout-inner">
<h3 class="callout-title">Exercise 6.1</h3>
<div class="callout-content">
<p>If you study the contents of the file <code>person_info.csv</code>,
you will see that some variation exists in the address formatting. For
example, some of the addresses use ‘First Street’ while others use ‘1st
Street’ or some other variation. Can you find all the lines containing
information on a person living on 1st/First Street/street, using a
single reglar expression?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Here are two possible solutions:</p>
<pre class="source"><code>[Ff]irst [Ss]treet|1st [Ss]treet</code></pre>
<pre class="source"><code>(Fir|fir|1)st [Ss]treet</code></pre>
</div>
</div>
</div>
</div>
<div id="exercise-6.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-6.2" class="callout-inner">
<h3 class="callout-title">Exercise 6.2</h3>
<div class="callout-content">
<p>The FASTQ file <code>example.fastq</code> contains sequence reads
with quality scores, in the format</p>
<pre class="source"><code>@sequence header line with barcode sequence
sequence
+
quality scores for basecalls</code></pre>
<p>Unfortunately, the barcode sequences in the header lines are wrong,
and the barcodes are still attached to the front of the sequences. There
are three barcodes that we are interested in: AGGCCA, TGTGAC, and
GCTGAC.</p>
<ol style="list-style-type: lower-alpha">
<li>how many reads are there in the file for each of these
barcodes?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>AGGCCA: 25</p>
<p>TGTGAC: 29</p>
<p>GCTGAC: 19</p>
</div>
</div>
</div>
</div>
<div id="exercise-6.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-6.2" class="callout-inner">
<h3 class="callout-title">Exercise 6.2<em> (continued)</em>
</h3>
<div class="callout-content">
<ol start="2" style="list-style-type: lower-alpha">
<li>write a regular expression that will find and these barcodes and a
replacement string that will remove from the start of the sequences in
which they are found</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>regex: <code>^(AGGCCA|TGTGAC|GCTGAC)([ACGTN]+\n\+\n)</code>
replacement string: <code>\2</code> (<code>$2</code>)</p>
</div>
</div>
</div>
</div>
<div id="exercise-6.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-6.2" class="callout-inner">
<h3 class="callout-title">Exercise 6.2<em> (continued)</em>
</h3>
<div class="callout-content">
<ol start="3" style="list-style-type: lower-alpha">
<li>of course, the format of the file means that you should probably
remove the quality scores associated with those sequence positions too.
Rewrite your regex so that the barcode sequence AND its corresponding
quality scores (i.e. the first six characters on the sequence and
quality lines) are removed.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>regex: <code>^(AGGCCA|TGTGAC|GCTGAC)([ACGTN]+\n\+\n).{6}</code>
replacement string: <code>\2</code> (<code>$2</code>)</p>
</div>
</div>
</div>
</div>
<div id="exercise-6.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-6.2" class="callout-inner">
<h3 class="callout-title">Exercise 6.2<em> (continued)</em>
</h3>
<div class="callout-content">
<ol start="4" style="list-style-type: lower-alpha">
<li>finally, can you build on the regex and replacement string from part
c), to replace the incorrect index sequences in the header lines with
the barcodes for each relevant sequence record?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>regex:
<code>^(@VFI-SQ316.+:)GCGCTG\n(AGGCCA|TGTGAC|GCTGAC)([ACGTN]+\n\+\n).{6}</code>
replacement string: <code>\1\2\n\3</code></p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Alternative strings to match can be combined with
<code>|</code>.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/regex-novice-biology/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/regex-novice-biology/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/regex-novice-biology/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/regex-novice-biology/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/regex-novice-biology/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/regex-novice-biology/instructor/aio.html",
  "identifier": "https://carpentries-incubator.github.io/regex-novice-biology/instructor/aio.html",
  "dateCreated": "2020-05-25",
  "dateModified": "2024-11-15",
  "datePublished": "2024-11-15"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

